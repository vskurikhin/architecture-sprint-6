# Задание 1. Проектирование технологической архитектуры

## Чек-лист:
 - [x] создать новый документ в draw.io
 - [x] использовать библиотеки объектов Yandex Cloud
 - [x] определить стратегию масштабирования и отказоустойчивости
 - [x] проработать конфигурацию развёртывания приложения в Kubernetes
 - [x] спланировать балансировку нагрузки
 - [x] определить наиболее подходящую фейловер-стратегию
 - [x] определить конфигурацию базы данных
 - [x] определить, будете ли вы применять шардирование БД


## Определите стратегию масштабирования и отказоустойчивости.
На стратегию масштабирования влияют два существенных фактора: 
1. Ожидается существенный прирост пользователей.
2. Компания хочет сделать упор на развитие в регионах РФ.

В связи с чем объединяем два подхода, первое Horizontal Pod Autoscaler (HPA) и второе фейловер-стратегию Active-Active c гео-резервированием и Global Server Load Balancer (GSLB).
В каждой зоне доступности использовать HPA c автоматическое масштабирование в Kubernetes. Резервирование базы данных в зоне доступности при помощи master-slave кластера patroni/stolon. И разделить типы запросов к базе данных на чтение и запись перенаправив часть запросов на чтение на slave инстансы БД.


## Проработайте конфигурацию развёртывания приложения в Kubernetes. 
Создать HPA для для каждого компонента приложения. Манифесты в текущем каталоге.

## Спланируйте балансировку нагрузки.
Применить географическую балансировку нагрузки GSLB в зоне доступности балансировка нагрузки Load-Balander-ами кластера Kubernetes c масштабированием HPA.
Создав географические зоны доступности и применив GSLB получим географически распределённую стратегию Active-Active. Так же разбив пользователей на шарды и зарезервировав базы данным путём асинхронной репликацией.


## Определите наиболее подходящую фейловер-стратегию.
Скомбинировав две стратегии Active-Active c GSLB и HPA получаем преимущество в виде гибкой настройки и распределении пользователей по регионам.  


## Определите конфигурацию базы данных.
Конфигурация базы данных при помощи кластера patroni/stolon.

## Определите, будете ли вы применять шардирование БД. 
Разбить пользователей на шарды и зарезервировав базы данным путём асинхронной репликацией между зонами доступности.